export class BaseElement extends HTMLElement{constructor(){super();}connectedCallback(){this.update(),this.addEventListeners();}disconnectedCallback(){this.removeEventListeners();}update(){this.innerHTML=this.render();}render(){}addEventListeners(){}removeEventListeners(){}static define(e){return customElements.define(e,this),this;}}export class ShadowElement extends BaseElement{constructor(){super(),this.attachShadow({mode:"open"});}update(){this.shadowRoot.innerHTML=this.render();}render(){}}export const html=(e,...t)=>e.reduce((e,n,r)=>{let o=t[r-1];return e+(void 0!==o?o:"")+n;});export const styleMap=e=>Object.entries(e).map(([e,o])=>`${e}: ${o}`).join("; ");let app=document.querySelector("#app");export function initRouter(e){window.addEventListener("navigate",t=>{var n,e;let{path:n}=t.detail;window.history.pushState({},"",n),renderContent(n,e);}),window.addEventListener("popstate",()=>{renderContent(window.location.pathname,e);}),renderContent(window.location.pathname,e);}async function renderContent(e,e){let t=e[e];if(t)try{let e=await t.component().default,n=document.getElementById(t.layout);if(e&&e.prototype instanceof HTMLElement&&n){let r=n.content.cloneNode(!0),o=new e;app.innerHTML="",app.appendChild(r),app.querySelector("#app-content").appendChild(o),app.className=t.layout,setTitle(t.title||o.constructor.name);}else console.error("Invalid component or layout:",e,n),app.innerHTML="<div>Error: Invalid component or layout</div>",setTitle("Error");}catch(e){console.error("Error loading module:",e),app.innerHTML="<div>Error loading page</div>",setTitle("Error");}else app.innerHTML="<div>Page not found</div>",setTitle("Page Not Found");}function setTitle(e){let t=window.APP_TITLE||"dim";document.title=`${e} | ${t}`;}
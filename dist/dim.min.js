export class BaseElement extends HTMLElement{constructor(){super()}connectedCallback(){this.update(),this.addEventListeners()}disconnectedCallback(){this.removeEventListeners()}update(){this.innerHTML=this.render()}render(){}addEventListeners(){}removeEventListeners(){}static define(e){return customElements.define(e,this),this}}export class ShadowElement extends BaseElement{constructor(){super(),this.attachShadow({mode:"open"})}update(){this.shadowRoot.innerHTML=this.render()}render(){}}export const html=(e,...t)=>e.reduce((e,n,o)=>{let r=t[o-1];return e+(void 0!==r?r:"")+n});export const styleMap=e=>Object.entries(e).map(([e,t])=>`${e}: ${t}`).join("; ");let app=document.querySelector("#app");export function initRouter(e){window.addEventListener("navigate",t=>{let{path:n}=t.detail;window.history.pushState({},"",n),renderContent(n,e)}),window.addEventListener("popstate",()=>{renderContent(window.location.pathname,e)}),renderContent(window.location.pathname,e)}async function renderContent(e,t){let n=t[e];if(n)try{let e=(await n.component()).default,t=document.getElementById(n.layout);if(e&&e.prototype instanceof HTMLElement&&t){let o=t.content.cloneNode(!0),r=new e;app.innerHTML="",app.appendChild(o),app.querySelector("#app-content").appendChild(r),app.className=n.layout,setTitle(n.title||r.constructor.name)}else console.error("Invalid component or layout:",e,t),app.innerHTML="<div>Error: Invalid component or layout</div>",setTitle("Error")}catch(e){console.error("Error loading module:",e),app.innerHTML="<div>Error loading page</div>",setTitle("Error")}else app.innerHTML="<div>Page not found</div>",setTitle("Page Not Found")}function setTitle(e){let t=window.APP_TITLE||"dim";document.title=`${e} | ${t}`}
export class BaseElement extends HTMLElement{constructor(){super(),this._updateRequested=!1,this._eventListeners=[]}connectedCallback(){this.update(),this.addEventListeners(),document.addEventListener("language-changed",()=>this.update())}disconnectedCallback(){this.removeEventListeners()}update(){let e=this.innerHTML,n=this.render();e!==n&&(this.innerHTML=n,this.addEventListeners())}requestUpdate(){this._updateRequested||(this._updateRequested=!0,Promise.resolve().then(()=>{this._updateRequested=!1,this.update()}))}defineReactiveProperty(e,n){defineReactiveProperty(this,e,n)}addEventListenerWithCleanup(e,n,r){let i=this.querySelector(e);if(i){let e=this._eventListeners.find(e=>e.element===i&&e.event===n);e&&(i.removeEventListener(n,e.handler),this._eventListeners=this._eventListeners.filter(n=>n!==e)),i.addEventListener(n,r),this._eventListeners.push({element:i,event:n,handler:r})}}addEventListeners(){}removeEventListeners(){this._eventListeners.forEach(({element:e,event:n,handler:r})=>{e.removeEventListener(n,r)}),this._eventListeners=[]}t(e){return i18n.t(e)}render(){}static define(e){return customElements.define(e,this),this}}export class ShadowElement extends BaseElement{constructor(){super(),this._shadowRoot=this.attachShadow?this.attachShadow({mode:"open"}):this,this._shadowRoot}get shadowRoot(){return this._shadowRoot}update(){this.shadowRoot.innerHTML=this.render()}render(){return""}}export function addEventListenerOnce(e,n,r){let i=`__${n}_handler__`;e[i]&&e.removeEventListener(n,e[i]),e[i]=r,e.addEventListener(n,r)}export function removeEventListener(e,n,r){e.removeEventListener(n,r)}export const html=(e,...n)=>e.reduce((e,r,i)=>{let o=n[i-1];return e+(void 0!==o?o:"")+r});export const styleMap=e=>Object.entries(e).map(([e,n])=>`${e}: ${n}`).join("; ");export const i18n={translations:{},get currentLanguage(){let e=localStorage.getItem("currentLanguage");if(e&&this.translations[e])return e;return localStorage.removeItem("currentLanguage"),"en"},set currentLanguage(lang){this.translations[lang]?localStorage.setItem("currentLanguage",lang):localStorage.setItem("currentLanguage","en")},t(e){let n=e.split("."),r=this.translations[this.currentLanguage];for(let i of n){if(!r||void 0===r[i])return e;r=r[i]}return r},setLanguage(e){this.currentLanguage=e,document.dispatchEvent(new CustomEvent("language-changed"))},addTranslations(e,n){this.translations[e]={...this.translations[e],...n}},defaultTranslations:{en:{error:"Error",error_invalid_component_or_layout:"Invalid component or layout",error_loading_page:"Error loading page",page_not_found:"Page Not Found",page_not_found_description:"The requested page could not be found."}},init(){Object.entries(this.defaultTranslations).forEach(([e,n])=>{this.addTranslations(e,n)})}};i18n.init();export const t=i18n.t.bind(i18n);export function defineReactiveProperty(e,n,r){let i=r;Object.defineProperty(e,n,{get:()=>i,set(n){i=n,e.requestUpdate()},configurable:!0,enumerable:!0})}let e=document.querySelector("#app");export function initRouter(e){window.addEventListener("navigate",r=>{let{path:i}=r.detail;window.history.pushState({},"",i),n(i,e)}),window.addEventListener("popstate",()=>{n(window.location.pathname,e)}),n(window.location.pathname,e)}async function n(n,o){let a=o[n];if(a)try{let n=(await a.component()).default,o=document.getElementById(a.layout);if(n&&n.prototype instanceof HTMLElement&&o){let s=o.content.cloneNode(!0),d=new n;e.innerHTML="",e.appendChild(s),e.querySelector("#app-content").appendChild(d),e.className=a.layout;let l=i18n.t(a.titleKey||d.constructor.name),u=i18n.t(a.descriptionKey||"");r(l),i(u)}else e.innerHTML=i18n.t("error_invalid_component_or_layout"),r(i18n.t("error")),i(i18n.t("error_invalid_component_or_layout"))}catch(n){e.innerHTML=i18n.t("error_loading_page"),r(i18n.t("error")),i(i18n.t("error_loading_page"))}else e.innerHTML=i18n.t("page_not_found"),r(i18n.t("page_not_found")),i(i18n.t("page_not_found_description"))}function r(e){let n=window.APP_TITLE||"";document.title=`${e} | ${n}`}function i(e){let n=document.querySelector('meta[name="description"]');return n?n.setAttribute("content",e):((n=document.createElement("meta")).name="description",n.content=e,document.head.appendChild(n)),n}